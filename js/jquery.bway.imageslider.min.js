!function(i){i.fn.bwayImageSlider=function(e){function t(i,e,t){M++,M==m&&(f=!0,a(i,e,t),o())}function n(i){h.find(".loader-overlay")&&1==r.loader&&h.find(".loader-overlay").show()}function o(){h.find(".loader-overlay")&&1==r.loader&&h.find(".loader-overlay").hide()}function a(e,t,n){function o(i,e){M(u),1==e&&(v.prepend(v.find("li:last")),"y"==i&&(l=l-r.initialCourse-D-r.itemMargin,g.css("top",l+"px")),"x"==i&&(l=l-d(i,"prev")-r.itemMargin,g.css("left",l+"px"))),c-=1,"y"==i&&(l=l+r.initialCourse+D+r.itemMargin,g.animate({top:l},r.speed)),"x"==i&&(l=l+d(i,"prev")+r.itemMargin,g.animate({left:l},r.speed)),f(-1),g.find("li.selected").removeClass("selected").prev().addClass("selected"),setTimeout(function(){b(u),w()},r.speed+100)}function a(i,e){M(p),1==e&&setTimeout(function(){v.append(v.find("li:first")),"y"==i&&(l=l+r.initialCourse+D+r.itemMargin,g.css("top",l+"px")),"x"==i&&(l=0,g.css("left",l+"px"))},r.speed+100),c+=1,"y"==i&&(l=l-r.initialCourse-D-r.itemMargin,g.animate({top:l},r.speed)),"x"==i&&(l=l-d(i,"next")-r.itemMargin,g.animate({left:l},r.speed)),f(1),g.find("li.selected").removeClass("selected").next().addClass("selected"),setTimeout(function(){b(p),w()},r.speed+100)}function d(i,e){var t=g.find(".selected");return"x"==i&&("prev"==e&&(newCourse=t.prev().width()),"next"==e&&(newCourse=t.width())),newCourse}function f(i){1==x&&-1==i?x=m:x==m&&1==i?x=1:x+=i,y.text(x),C.text(m)}function w(){l>=r.initialCourse&&0==r.loop?M(u):l<r.initialCourse&&0==r.loop&&b(u),0==r.loop&&(H>=(D+r.itemMargin)*m||c+k()>=m)?M(p):0==r.loop&&c+k()<m&&b(p),"x"==r.axis&&v.width(T)}function k(){return Math.floor(H/(D+r.itemMargin))}function M(i){i.attr("disabled",!0),i.addClass("inactive")}function b(i){i.attr("disabled",!1),i.removeClass("inactive")}if("y"==r.axis)var H=h.outerHeight()-u.height()-p.height(),D=t;if("x"==r.axis)var H=h.outerWidth()-u.width()-p.width(),D=e,T=n+r.itemMargin*m;f(0),w(),v.find("li").eq(0).addClass("selected"),u.on("click",s,function(i){i.preventDefault(),o(r.axis,r.loop)}),p.on("click",s,function(i){i.preventDefault(),a(r.axis,r.loop)}),"undefined"!=typeof Hammer&&("y"==r.axis&&(v.bind("touchstart",function(i){i.preventDefault()}),v.bind("touchmove",function(i){i.preventDefault()}),h.hammer().on("pandown",function(){i(this).find(".prev:not(.inactive)").trigger("click")}),h.hammer().on("panup",function(){i(this).find(".next:not(.inactive)").trigger("click")})),"x"==r.axis&&(h.hammer().on("swiperight",function(){i(this).find(".prev:not(.inactive)").trigger("click")}),h.hammer().on("swipeleft",function(){i(this).find(".next:not(.inactive)").trigger("click")}))),"y"==r.axis&&1==r.keyboard&&s.keyup(function(e){38==e.keyCode&&i(this).find(".prev:not(.inactive)").trigger("click"),40==e.keyCode&&i(this).find(".next:not(.inactive)").trigger("click")}),"x"==r.axis&&1==r.keyboard&&s.keyup(function(e){37==e.keyCode&&i(this).find(".prev:not(.inactive)").trigger("click"),39==e.keyCode&&i(this).find(".next:not(.inactive)").trigger("click")})}var r=i.extend({axis:"x",initialCourse:0,speed:1500,itemMargin:10,loop:!1,keyboard:!1,loader:!1},e),d=this,s=i("body"),l=0,c=0,f=!1,u=d.find(".buttons.prev"),p=d.find(".buttons.next"),h=d.find(".viewport"),v=h.find("ul"),g=d.find(".overview"),m=d.find("ul > li").length,x=1,y=d.find(".image-current"),C=d.find(".image-total"),w=0;if(n(),0==f){var k=v.find("li > *"),M=0;k.each(function(){if(0!=i(this).width()&&0!=i(this).outerHeight()){var e=i(this).width(),n=i(this).outerHeight();w+=i(this).width(),t(e,n,w)}else i(this).one("load",function(){var e=i(this).width(),n=i(this).outerHeight();w+=i(this).width(),t(e,n,w)})})}}}(jQuery);