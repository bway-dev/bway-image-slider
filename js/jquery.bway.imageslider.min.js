!function(i){i.fn.bwayImageSlider=function(e){function t(i,e,t){k++,k==v&&(c=!0,n(i,e,t))}function n(e,t,n){function s(i,e){b(f),1==e&&(p.prepend(p.find("li:last")),r=r-w(i,"prev")-o.itemMargin,"y"==i&&h.css("top",r+"px"),"x"==i&&h.css("left",r+"px")),r=r+w(i,"prev")+o.itemMargin,d-=1,"y"==i&&h.animate({top:r},o.speed),"x"==i&&h.animate({left:r},o.speed),y(-1),h.find("li.selected").removeClass("selected").prev().addClass("selected"),setTimeout(function(){M(f),k()},o.speed+100)}function c(i,e){b(l),1==e&&setTimeout(function(){p.append(p.find("li:first")),r=0,"y"==i&&h.css("top",r+"px"),"x"==i&&h.css("left",r+"px")},o.speed+100),r=r-w(i,"next")-o.itemMargin,console.log(r),d+=1,"y"==i&&h.animate({top:r},o.speed),"x"==i&&h.animate({left:r},o.speed),y(1),h.find("li.selected").removeClass("selected").next().addClass("selected"),setTimeout(function(){M(l),k()},o.speed+100)}function w(i,e){var t=h.find(".selected");return"x"==i&&("prev"==e&&(newCourse=t.prev().width()),"next"==e&&(newCourse=t.width())),newCourse}function y(i){1==g&&-1==i?g=v:g==v&&1==i?g=1:g+=i,x.text(g),m.text(v)}function k(){r>=o.initialCourse&&0==o.loop?b(f):r<o.initialCourse&&0==o.loop&&M(f),0==o.loop&&(H>=(D+o.itemMargin)*v||d+C()>=v)?b(l):0==o.loop&&d+C()<v&&M(l),"x"==o.axis&&p.width(T)}function C(){return Math.floor(H/(D+o.itemMargin))}function b(i){i.attr("disabled",!0),i.addClass("inactive")}function M(i){i.attr("disabled",!1),i.removeClass("inactive")}if("y"==o.axis)var H=u.outerHeight()-f.height()-l.height(),D=t;if("x"==o.axis)var H=u.outerWidth()-f.width()-l.width(),D=e,T=n+o.itemMargin*v;y(0),k(),p.find("li").eq(0).addClass("selected"),f.on("click",a,function(i){i.preventDefault(),s(o.axis,o.loop)}),l.on("click",a,function(i){i.preventDefault(),c(o.axis,o.loop)}),"undefined"!=typeof Hammer&&("y"==o.axis&&(p.bind("touchstart",function(i){i.preventDefault()}),p.bind("touchmove",function(i){i.preventDefault()}),u.hammer().on("pandown",function(){i(this).find(".prev:not(.inactive)").trigger("click")}),u.hammer().on("panup",function(){i(this).find(".next:not(.inactive)").trigger("click")})),"x"==o.axis&&(u.hammer().on("swiperight",function(){i(this).find(".prev:not(.inactive)").trigger("click")}),u.hammer().on("swipeleft",function(){i(this).find(".next:not(.inactive)").trigger("click")}))),1==o.keyboard&&("y"==o.axis&&a.keyup(function(e){38==e.keyCode&&i(this).find(".prev:not(.inactive)").trigger("click"),40==e.keyCode&&i(this).find(".next:not(.inactive)").trigger("click")}),"x"==o.axis&&a.keyup(function(e){37==e.keyCode&&i(this).find(".prev:not(.inactive)").trigger("click"),39==e.keyCode&&i(this).find(".next:not(.inactive)").trigger("click")}))}var o=i.extend({axis:"x",initialCourse:0,speed:1500,itemMargin:10,loop:!1,keyboard:!1},e),s=this,a=i("body"),r=0,d=0,c=!1,f=s.find(".buttons.prev"),l=s.find(".buttons.next"),u=s.find(".viewport"),p=u.find("ul"),h=s.find(".overview"),v=s.find("ul > li").length,g=1,x=s.find(".image-current"),m=s.find(".image-total"),w=0;if(0==c){var y=p.find("li > *"),k=0;y.each(function(){if(0!=i(this).width()&&0!=i(this).outerHeight()){var e=i(this).width(),n=i(this).outerHeight();w+=i(this).width(),t(e,n,w)}else i(this).one("load",function(){var e=i(this).width(),n=i(this).outerHeight();w+=i(this).width(),t(e,n,w)})})}}}(jQuery);