!function(i){i.fn.bwayImageSlider=function(e){function t(i,e,t){k++,k==g&&(c=!0,n(i,e,t))}function n(e,t,n){function a(i,e){M(f),1==e&&(p.prepend(p.find("li:last")),"y"==i&&(s=s-o.initialCourse-D-o.itemMargin,h.css("top",s+"px")),"x"==i&&(s=s-C(i,"prev")-o.itemMargin,h.css("left",s+"px"))),d-=1,"y"==i&&(s=s+o.initialCourse+D+o.itemMargin,h.animate({top:s},o.speed)),"x"==i&&(s=s+C(i,"prev")+o.itemMargin,h.animate({left:s},o.speed)),y(-1),h.find("li.selected").removeClass("selected").prev().addClass("selected"),setTimeout(function(){b(f),k()},o.speed+100)}function c(i,e){M(l),1==e&&setTimeout(function(){p.append(p.find("li:first")),"y"==i&&(s=s+o.initialCourse+D+o.itemMargin,h.css("top",s+"px")),"x"==i&&(s=0,h.css("left",s+"px"))},o.speed+100),d+=1,"y"==i&&(s=s-o.initialCourse-D-o.itemMargin,h.animate({top:s},o.speed)),"x"==i&&(s=s-C(i,"next")-o.itemMargin,h.animate({left:s},o.speed)),y(1),h.find("li.selected").removeClass("selected").next().addClass("selected"),setTimeout(function(){b(l),k()},o.speed+100)}function C(i,e){var t=h.find(".selected");return"x"==i&&("prev"==e&&(newCourse=t.prev().width()),"next"==e&&(newCourse=t.width())),newCourse}function y(i){1==v&&-1==i?v=g:v==g&&1==i?v=1:v+=i,m.text(v),x.text(g)}function k(){s>=o.initialCourse&&0==o.loop?M(f):s<o.initialCourse&&0==o.loop&&b(f),0==o.loop&&(H>=(D+o.itemMargin)*g||d+w()>=g)?M(l):0==o.loop&&d+w()<g&&b(l),"x"==o.axis&&p.width(T)}function w(){return Math.floor(H/(D+o.itemMargin))}function M(i){i.attr("disabled",!0),i.addClass("inactive")}function b(i){i.attr("disabled",!1),i.removeClass("inactive")}if("y"==o.axis)var H=u.outerHeight()-f.height()-l.height(),D=t;if("x"==o.axis)var H=u.outerWidth()-f.width()-l.width(),D=e,T=n+o.itemMargin*g;y(0),k(),p.find("li").eq(0).addClass("selected"),f.on("click",r,function(i){i.preventDefault(),a(o.axis,o.loop)}),l.on("click",r,function(i){i.preventDefault(),c(o.axis,o.loop)}),"undefined"!=typeof Hammer&&("y"==o.axis&&(p.bind("touchstart",function(i){i.preventDefault()}),p.bind("touchmove",function(i){i.preventDefault()}),u.hammer().on("pandown",function(){i(this).find(".prev:not(.inactive)").trigger("click")}),u.hammer().on("panup",function(){i(this).find(".next:not(.inactive)").trigger("click")})),"x"==o.axis&&(u.hammer().on("swiperight",function(){i(this).find(".prev:not(.inactive)").trigger("click")}),u.hammer().on("swipeleft",function(){i(this).find(".next:not(.inactive)").trigger("click")}))),"y"==o.axis&&1==o.keyboard&&r.keyup(function(e){38==e.keyCode&&i(this).find(".prev:not(.inactive)").trigger("click"),40==e.keyCode&&i(this).find(".next:not(.inactive)").trigger("click")}),"x"==o.axis&&1==o.keyboard&&r.keyup(function(e){37==e.keyCode&&i(this).find(".prev:not(.inactive)").trigger("click"),39==e.keyCode&&i(this).find(".next:not(.inactive)").trigger("click")})}var o=i.extend({axis:"x",initialCourse:0,speed:1500,itemMargin:10,loop:!1,keyboard:!1},e),a=this,r=i("body"),s=0,d=0,c=!1,f=a.find(".buttons.prev"),l=a.find(".buttons.next"),u=a.find(".viewport"),p=u.find("ul"),h=a.find(".overview"),g=a.find("ul > li").length,v=1,m=a.find(".image-current"),x=a.find(".image-total"),C=0;if(0==c){var y=p.find("li > *"),k=0;y.each(function(){if(0!=i(this).width()&&0!=i(this).outerHeight()){var e=i(this).width(),n=i(this).outerHeight();C+=i(this).width(),t(e,n,C)}else i(this).one("load",function(){var e=i(this).width(),n=i(this).outerHeight();C+=i(this).width(),t(e,n,C)})})}}}(jQuery);